#! /usr/bin/env python3

import subprocess

class VdeSwitch:
    def __init__(self, fd):
        self.fd = fd

    def create_switch(self):
        cmd = ["vde_switch","-s",self.fd]
        self.p = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.STDOUT)

    def halt_switch(self):
        self.p.terminate()
    
    def get_iface(self):
        return self.fd

    def __repr__(self):
        result = "\n----------------\n"
        result += "VdeSwitch: {}".format(self.fd)
        return result


