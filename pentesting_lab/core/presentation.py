#! /usr/bin/env python3

import re
from prettytable import PrettyTable
from termcolor import colored


def print_vms_general(session):
    for vm in session.vm_configs:
        print(vm)
        #print("----- VM -----")
        #print("Name: {}".format(vm.name))
        #print("Box: {}".format(vm.box))
        #print("GUI: {}".format(vm.gui))
        ##print("LinkedClone: {}".format(vm.linked_clone))
        #print("Network Interfaces:")
        #for iface in vm.network_interfaces:
        #    print("\tIFace: {}".format(iface))
        #print("Packages:")
        #for package in vm.packages:
        #    print("\tIFace: {}".format(package))
        #print("--------------\n")


def print_network_interfaces(session):
    for iface in session.vde_configs:
        pt = PrettyTable()
        pt.title = colored(iface.name,'red')
        vms = list()
        for vm in session.vm_configs:
            for k in vm.network_interfaces:
                if iface.fd == k:
                    vms.append(vm.name)
        if len(vms) == 0:
            vms.append('')
        max_n = len(vms)
        fd_column = [iface.fd]
        sniff_column = [iface.sniff]

        for i in range(1,max_n):
            fd_column.append('')
            sniff_column.append('')

        pt.add_column('fd',fd_column)
        pt.add_column('Sniff',sniff_column)
        pt.add_column('VMs',vms)
        print(pt)
        print()



